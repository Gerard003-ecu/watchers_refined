<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Panel Interactivo: Unidad de Potencia Inteligente (IPU)</title>

    <!-- Tailwind & Icons -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300..800&family=JetBrains+Mono:wght@400..600&display=swap" rel="stylesheet" />

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Tailwind config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'atomic-blue': '#0ea5e9',
                        'energy-amber': '#f59e0b',
                        'plasma-purple': '#8b5cf6',
                        'quantum-teal': '#0d9488',
                        'dark-matter': '#0f172a',
                        'neutrino-gray': '#64748b',
                        'fusion-red': '#ef4444',
                        'quantum-green': '#10b981'
                    },
                    animation: {
                        'pulse-slow': 'pulse 2.5s cubic-bezier(.4,0,.6,1) infinite',
                        'glow': 'glow 2s ease-in-out infinite alternate'
                    },
                    keyframes: {
                        glow: {
                            '0%': { boxShadow: '0 0 0 0 rgba(14,165,233,.4)' },
                            '100%': { boxShadow: '0 0 0 8px rgba(14,165,233,0)' }
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace']
                    }
                }
            }
        };
    </script>

    <link rel="stylesheet" href="pro_panel_ipu.css">
</head>

<body class="antialiased">

    <header class="bg-slate-900/80 backdrop-blur-md sticky top-0 z-50 border-b border-slate-700">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16 md:h-20">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-teal-400 to-cyan-400 flex items-center justify-center">
                        <i class="fas fa-atom text-white text-xl md:text-2xl"></i>
                    </div>
                    <h1 class="text-xl md:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-cyan-400">
                        Unidad de Potencia Inteligente (IPU)
                    </h1>
                </div>

                <nav class="hidden md:flex space-x-6 lg:space-x-8">
                    <a href="#inicio" class="nav-link font-medium text-slate-300 active">Inicio</a>
                    <a href="#ipu" class="nav-link font-medium text-slate-300">El Núcleo: IPU</a>
                    <a href="#componentes" class="nav-link font-medium text-slate-300">Componentes</a>
                    <a href="#baterias-avanzadas" class="nav-link font-medium text-slate-300">Baterías</a>
                    <a href="#flujo-energia-avanzado" class="nav-link font-medium text-slate-300">Flujo Avanzado</a>
                    <a href="#desafios" class="nav-link font-medium text-slate-300">Futuro</a>
                </nav>

                <button id="mobile-menu-button" class="md:hidden p-2 rounded-md text-slate-300 hover:text-white hover:bg-slate-700">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>

            <div id="mobile-menu" class="hidden md:hidden pb-4">
                <a href="#inicio" class="nav-link-mobile block px-3 py-2 rounded-md text-base font-medium text-slate-300 hover:bg-slate-700">Inicio</a>
                <a href="#ipu" class="nav-link-mobile block px-3 py-2 rounded-md text-base font-medium text-slate-300 hover:bg-slate-700">El Núcleo: IPU</a>
                <a href="#componentes" class="nav-link-mobile block px-3 py-2 rounded-md text-base font-medium text-slate-300 hover:bg-slate-700">Componentes</a>
                <a href="#baterias-avanzadas" class="nav-link-mobile block px-3 py-2 rounded-md text-base font-medium text-slate-300 hover:bg-slate-700">Baterías</a>
                <a href="#flujo-energia-avanzado" class="nav-link-mobile block px-3 py-2 rounded-md text-base font-medium text-slate-300 hover:bg-slate-700">Flujo Avanzado</a>
                <a href="#desafios" class="nav-link-mobile block px-3 py-2 rounded-md text-base font-medium text-slate-300 hover:bg-slate-700">Futuro</a>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">

        <!-- Inicio -->
        <section id="inicio" class="content-section active">
            <div class="text-center mb-12">
                <div class="inline-block p-3 rounded-full bg-slate-800 mb-6">
                    <div class="w-16 h-16 rounded-full bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center">
                        <i class="fas fa-bolt text-white text-2xl"></i>
                    </div>
                </div>
                <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
                    Transformando la Energía Solar con Inteligencia
                </h2>
                <p class="max-w-3xl mx-auto text-lg text-slate-300">
                    Explora la Unidad de Potencia Inteligente (IPU), un sistema que revoluciona la gestión de energía en instalaciones fotovoltaicas mediante electrónica de potencia, microcontroladores y baterías avanzadas.
                </p>
            </div>

            <div class="quantum-card p-6 md:p-8">
                <h3 class="text-2xl font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-cyan-400 mb-6">
                    Flujo de Energía en un Sistema Fotovoltaico Moderno
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-5 items-center gap-4 md:gap-6 text-center">
                    <div class="flex flex-col items-center">
                        <div class="w-16 h-16 rounded-full bg-slate-800 flex items-center justify-center mb-3 glow">
                            <i class="fas fa-sun text-amber-400 text-2xl"></i>
                        </div>
                        <h4 class="font-semibold text-slate-200">Paneles Solares</h4>
                        <p class="text-sm text-slate-400">Generan energía CC</p>
                    </div>
                    <div class="text-3xl text-slate-500 md:transform-none transform rotate-90">
                        <i class="fas fa-arrow-right"></i>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="w-20 h-20 rounded-full bg-gradient-to-br from-teal-400 to-cyan-400 flex items-center justify-center mb-3 glow">
                            <i class="fas fa-microchip text-white text-3xl"></i>
                        </div>
                        <h4 class="font-semibold text-slate-200">IPU</h4>
                        <p class="text-sm text-slate-400">Gestiona & optimiza</p>
                    </div>
                    <div class="text-3xl text-slate-500 md:transform-none transform rotate-90">
                        <i class="fas fa-arrow-right"></i>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="w-16 h-16 rounded-full bg-slate-800 flex items-center justify-center mb-3 glow">
                            <i class="fas fa-home text-cyan-400 text-2xl"></i>
                        </div>
                        <h4 class="font-semibold text-slate-200">Hogar & Red</h4>
                        <p class="text-sm text-slate-400">Consumo CA</p>
                    </div>
                </div>
                <p class="mt-8 text-center text-slate-400 max-w-4xl mx-auto">
                    La IPU actúa como el corazón y cerebro: convierte, almacena y raciona la energía para maximizar la eficiencia (hasta 98 %) y estabilizar la red.
                </p>
            </div>
        </section>

        <!-- El Núcleo -->
        <section id="ipu" class="content-section">
            <div class="text-center mb-12">
                <div class="inline-block p-3 rounded-full bg-slate-800 mb-6">
                    <div class="w-16 h-16 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center">
                        <i class="fas fa-atom text-white text-2xl"></i>
                    </div>
                </div>
                <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
                    El Núcleo: Unidad de Potencia Inteligente (IPU)
                </h2>
                <p class="max-w-3xl mx-auto text-lg text-slate-300">
                    Inspirado en el “pistón”, la IPU almacena y libera energía en pulsos rápidos y potentes gracias a la sinergia de condensadores e inductores.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                <!-- Diagrama Dinámico -->
                <div class="quantum-card p-6">
                    <h3 class="text-xl font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-amber-300 to-amber-500 mb-4">
                        Dinámica del Pistón
                    </h3>
                    <div class="space-y-6">
                        <div class="piston-chamber">
                            <div class="piston-rod" id="piston-rod"></div>
                            <div class="piston-head" id="piston-head"></div>
                            <div class="capacitor-charge" id="capacitor-charge"></div>
                            <div class="inductor-coil">
                                <div class="magnetic-field" id="magnetic-field"></div>
                            </div>
                            <div class="spark" id="spark"></div>
                            <div class="energy-wave" id="energy-wave"></div>
                        </div>

                        <div class="energy-meter">
                            <div class="energy-level" id="energy-level"></div>
                        </div>
                        <div class="meter-labels flex justify-between text-xs text-slate-400">
                            <span>0 V</span><span>250 V</span><span>500 V</span><span>750 V</span><span>1000 V</span>
                        </div>

                        <div class="grid grid-cols-2 gap-4 mt-4 text-sm">
                            <div class="bg-slate-800/50 p-3 rounded-lg">
                                <h4 class="font-semibold text-slate-200 mb-1">Estado del Capacitor</h4>
                                <div id="capacitor-state">Cargando...</div>
                            </div>
                            <div class="bg-slate-800/50 p-3 rounded-lg">
                                <h4 class="font-semibold text-slate-200 mb-1">Campo Magnético</h4>
                                <div id="magnetic-state">Inactivo</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Arquitectura -->
                <div class="quantum-card p-6">
                    <h3 class="text-xl font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-cyan-400 mb-4">
                        Arquitectura de la IPU
                    </h3>
                    <p class="text-sm text-slate-400 mb-4 text-center">
                        Interactúa con cada bloque para conocer su función.
                    </p>
                    <div class="grid grid-cols-3 gap-3 text-center text-xs font-medium">
                        <div class="col-span-3 diagram-block bg-amber-900/20 text-amber-300 p-3 rounded-lg" data-tooltip="Fuente de energía primaria que genera corriente continua a partir de la luz solar.">
                            <i class="fas fa-sun mr-1"></i> Paneles Solares
                        </div>
                        <div class="col-span-3 flex justify-center py-2">
                            <div class="h-2 w-2 rounded-full bg-cyan-400"></div>
                        </div>

                        <div class="col-span-3 diagram-block bg-slate-800 text-cyan-300 p-4 rounded-lg" data-tooltip="Optimiza la energía (MPPT) y regula el voltaje para su almacenamiento y uso.">
                            <i class="fas fa-exchange-alt mr-1"></i> Convertidor CC-CC
                        </div>
                        <div class="col-span-3 flex justify-center py-2">
                            <div class="h-2 w-2 rounded-full bg-cyan-400"></div>
                        </div>

                        <div class="diagram-block bg-green-900/20 text-green-300 p-3 rounded-lg" data-tooltip="Almacena grandes cantidades de energía a largo plazo.">
                            <i class="fas fa-battery-full mr-1"></i> Batería Principal
                        </div>
                        <div class="diagram-block bg-teal-900/20 text-teal-300 p-3 rounded-lg" data-tooltip="El cerebro: ejecuta algoritmos y gestiona la comunicación.">
                            <i class="fas fa-microchip mr-1"></i> Microcontrolador
                        </div>
                        <div class="diagram-block bg-blue-900/20 text-blue-300 p-3 rounded-lg" data-tooltip="Almacena y libera energía rápidamente para pulsos de alta potencia.">
                            <i class="fas fa-bolt mr-1"></i> Potencia Pulsada
                        </div>

                        <div class="col-span-3 flex justify-center py-2">
                            <div class="h-2 w-2 rounded-full bg-cyan-400"></div>
                        </div>
                        <div class="col-span-3 diagram-block bg-purple-900/20 text-purple-300 p-4 rounded-lg" data-tooltip="Convierte CC a CA para uso doméstico o inyección a la red.">
                            <i class="fas fa-plug mr-1"></i> Inversor / Carga
                        </div>
                    </div>
                </div>
            </div>
            <div id="tooltip" class="tooltip"></div>
        </section>

        <!-- Componentes -->
        <section id="componentes" class="content-section">
            <div class="text-center mb-12">
                <div class="inline-block p-3 rounded-full bg-slate-800 mb-6">
                    <div class="w-16 h-16 rounded-full bg-gradient-to-br from-purple-400 to-pink-500 flex items-center justify-center">
                        <i class="fas fa-cogs text-white text-2xl"></i>
                    </div>
                </div>
                <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
                    Componentes Clave de la IPU
                </h2>
                <p class="max-w-3xl mx-auto text-lg text-slate-300">
                    La IPU integra gestión de potencia, control inteligente y almacenamiento eficiente para maximizar el rendimiento.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                <!-- Gestión de Potencia -->
                <div class="quantum-card p-6">
                    <h3 class="text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-cyan-400 mb-4">
                        Gestión de Potencia: El Músculo
                    </h3>
                    <p class="text-slate-400 mb-4">
                        Estos componentes manejan el flujo de energía; su eficiencia es crítica para minimizar pérdidas.
                    </p>
                    <div class="flex flex-wrap gap-2 mb-4">
                        <button class="component-btn bg-slate-800 px-3 py-1 rounded-full text-sm font-medium" data-component="inversor">Inversores</button>
                        <button class="component-btn bg-slate-800 px-3 py-1 rounded-full text-sm font-medium" data-component="controlador">Controladores</button>
                        <button class="component-btn bg-slate-800 px-3 py-1 rounded-full text-sm font-medium" data-component="convertidor">Convertidores</button>
                    </div>
                    <div id="component-details" class="bg-slate-800/50 p-4 rounded-lg mb-4 text-sm text-slate-400"></div>
                    <div class="chart-container h-64">
                        <canvas id="efficiencyChart"></canvas>
                    </div>
                </div>

                <!-- Control Inteligente -->
                <div class="quantum-card p-6">
                    <h3 class="text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-amber-600 mb-4">
                        Control Inteligente: El Cerebro
                    </h3>
                    <p class="text-slate-400 mb-4">
                        El ESP32 ejecuta algoritmos complejos y mantiene comunicación remota.
                    </p>
                    <div class="bg-slate-800/50 p-4 rounded-lg space-y-3 text-sm">
                        <h4 class="font-bold text-slate-200">ESP32: capacidades clave</h4>
                        <ul class="grid grid-cols-2 gap-x-4 gap-y-1 text-slate-400">
                            <li><i class="fas fa-microchip text-teal-400 mr-2"></i>CPU Dual-Core @ 240 MHz</li>
                            <li><i class="fas fa-wifi text-teal-400 mr-2"></i>Wi-Fi + Bluetooth</li>
                            <li><i class="fas fa-sitemap text-teal-400 mr-2"></i>34 GPIOs</li>
                            <li><i class="fas fa-bolt text-teal-400 mr-2"></i>Bajo consumo</li>
                            <li><i class="fas fa-shield-alt text-teal-400 mr-2"></i>Seguridad HW</li>
                            <li><i class="fas fa-chart-line text-teal-400 mr-2"></i>ADC 12-bit</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Almacenamiento -->
            <div class="quantum-card p-6 md:p-8">
                <h3 class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400 mb-2 text-center">
                    Almacenamiento de Energía: La Reserva
                </h3>
                <p class="text-slate-400 mb-6 text-center max-w-3xl mx-auto">
                    Haz clic en una barra para explorar cada tecnología.
                </p>
                <div class="grid grid-cols-1 lg:grid-cols-5 gap-8 items-center">
                    <div class="lg:col-span-3">
                        <div class="chart-container">
                            <canvas id="batteryChart"></canvas>
                        </div>
                    </div>
                    <div id="battery-details" class="lg:col-span-2 bg-slate-800/50 p-4 rounded-lg min-h-[200px]"></div>
                </div>
            </div>
        </section>

        <!-- Baterías Avanzadas -->
        <section id="baterias-avanzadas" class="content-section">
            <div class="text-center mb-12">
                <div class="inline-block p-3 rounded-full bg-slate-800 mb-6">
                    <div class="w-16 h-16 rounded-full bg-gradient-to-br from-green-400 to-emerald-500 flex items-center justify-center">
                        <i class="fas fa-battery-full text-white text-2xl"></i>
                    </div>
                </div>
                <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
                    Baterías Avanzadas y su Impacto en el Pistón
                </h2>
                <p class="max-w-3xl mx-auto text-lg text-slate-300">
                    La vida útil de una batería depende de la profundidad de descarga y la química. Aquí se compara.
                </p>
            </div>
            <div class="quantum-card p-6 md:p-8">
                <h3 class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-cyan-400 mb-4 text-center">
                    Vida Útil vs. Profundidad de Descarga
                </h3>
                <div class="chart-container">
                    <canvas id="cycleLifeChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Flujo Avanzado -->
        <section id="flujo-energia-avanzado" class="content-section">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
                    Componentes Sofisticados para el Flujo de Energía
                </h2>
                <p class="max-w-3xl mx-auto text-lg text-slate-300">
                    Evolución de componentes estándar a avanzados para mayor precisión y eficiencia.
                </p>
            </div>
            <div class="quantum-card p-6 md:p-8">
                <h3 class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-cyan-400 mb-4 text-center">
                    Comparativa: Estándar vs. Avanzado
                </h3>
                <div class="overflow-x-auto">
                    <table class="min-w-full text-left">
                        <thead>
                            <tr>
                                <th class="py-3 px-4 text-sm font-semibold text-slate-200">Característica</th>
                                <th class="py-3 px-4 text-sm font-semibold text-slate-200">Estándar (MVP)</th>
                                <th class="py-3 px-4 text-sm font-semibold text-slate-200">Avanzado (Escalabilidad)</th>
                            </tr>
                        </thead>
                        <tbody class="text-sm text-slate-400">
                            <tr>
                                <td class="py-3 px-4 border-b border-slate-700 font-semibold">Eficiencia</td>
                                <td class="py-3 px-4 border-b border-slate-700">Hasta 98 %</td>
                                <td class="py-3 px-4 border-b border-slate-700">98–99 %+ (SiC/GaN)</td>
                            </tr>
                            <tr>
                                <td class="py-3 px-4 border-b border-slate-700 font-semibold">Bidireccional</td>
                                <td class="py-3 px-4 border-b border-slate-700">Limitado</td>
                                <td class="py-3 px-4 border-b border-slate-700">Total</td>
                            </tr>
                            <tr>
                                <td class="py-3 px-4 border-b border-slate-700 font-semibold">Frecuencia</td>
                                <td class="py-3 px-4 border-b border-slate-700">Baja/moderada</td>
                                <td class="py-3 px-4 border-b border-slate-700">Alta (kHz)</td>
                            </tr>
                            <tr>
                                <td class="py-3 px-4 border-b border-slate-700 font-semibold">Costo/Beneficio</td>
                                <td class="py-3 px-4 border-b border-slate-700"><span class="text-green-400 font-bold">Alto</span></td>
                                <td class="py-3 px-4 border-b border-slate-700"><span class="text-amber-400 font-bold">Moderado</span></td>
                            </tr>
                            <tr>
                                <td class="py-3 px-4 font-semibold">Disponibilidad</td>
                                <td class="py-3 px-4"><span class="text-green-400 font-bold">Fácil</span></td>
                                <td class="py-3 px-4"><span class="text-amber-400 font-bold">Moderada</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Desafíos y Futuro -->
        <section id="desafios" class="content-section">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
                    Desafíos y Oportunidades Futuras
                </h2>
                <p class="max-w-3xl mx-auto text-lg text-slate-300">
                    La IPU enfrenta retos técnicos, pero su potencial para transformar el sistema energético es enorme.
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="quantum-card p-6">
                    <h3 class="text-xl font-bold text-red-400 mb-4 flex items-center">
                        <i class="fas fa-exclamation-triangle mr-3"></i>Desafíos
                    </h3>
                    <ul class="space-y-3 text-slate-400 text-sm">
                        <li class="flex"><i class="fas fa-thermometer-half text-red-400 mr-2 mt-1"></i><span><strong>Gestión térmica:</strong> disipar el calor de alta potencia.</span></li>
                        <li class="flex"><i class="fas fa-cogs text-red-400 mr-2 mt-1"></i><span><strong>Degradación:</strong> ciclos rápidos estresan componentes.</span></li>
                        <li class="flex"><i class="fas fa-bolt text-red-400 mr-2 mt-1"></i><span><strong>Eficiencia de pulso:</strong> minimizar pérdidas en micro-segundos.</span></li>
                        <li class="flex"><i class="fas fa-shield-alt text-red-400 mr-2 mt-1"></i><span><strong>Seguridad:</strong> proteger ante picos masivos.</span></li>
                    </ul>
                </div>
                <div class="quantum-card p-6">
                    <h3 class="text-xl font-bold text-green-400 mb-4 flex items-center">
                        <i class="fas fa-rocket mr-3"></i>Oportunidades
                    </h3>
                    <ul class="space-y-3 text-slate-400 text-sm">
                        <li class="flex"><i class="fas fa-network-wired text-green-400 mr-2 mt-1"></i><span>Estabilidad de red y servicios auxiliares.</span></li>
                        <li class="flex"><i class="fas fa-gem text-green-400 mr-2 mt-1"></i><span>Semiconductores WBG (SiC/GaN) → mayor eficiencia.</span></li>
                        <li class="flex"><i class="fas fa-brain text-green-400 mr-2 mt-1"></i><span>IA/ML para control predictivo.</span></li>
                        <li class="flex"><i class="fas fa-puzzle-piece text-green-400 mr-2 mt-1"></i><span>Diseño modular escalable.</span></li>
                    </ul>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-900 text-slate-400 mt-12 border-t border-slate-800">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center text-sm">
            <p>Panel Interactivo de la Unidad de Potencia Inteligente (IPU).</p>
            <p>Basado en el informe técnico de componentes para sistemas fotovoltaicos.</p>
        </div>
    </footer>

    <script src="pro_panel_ipu.js"></script>
</body>
</html>